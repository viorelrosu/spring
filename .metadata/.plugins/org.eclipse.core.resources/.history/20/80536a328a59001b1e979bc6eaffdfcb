package t7.ej12;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/Ej12")
public class Ej12 extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		response.setContentType("text/html");
		response.getWriter().println("<h2>Nuevo libro</h2>");
		response.getWriter().println("<form method=\"post\">");
		response.getWriter().println("ISBN " + "<input type=\"text\" name=\"isbn\" ><br><br>");
		response.getWriter().println("Título " + "<input type=\"text\" name=\"titulo\" ><br><br>");
		response.getWriter().println("Categoría " + "<input type=\"text\" name=\"categoria\" ><br><br>");
		response.getWriter().println("<input type=\"submit\">");
		response.getWriter().println("</form>");
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		String isbn = request.getParameter("isbn");
		String titulo = request.getParameter("titulo");
		String categoria = request.getParameter("categoria");
		String mensaje = "";
		
		if( isbn == "" || isbn == null) {
			mensaje = "Debes introducir un ISBN<br/>";
		} else {
			if( titulo == "" || titulo == null) {
				mensaje = "Debes introducir un titulo<br/>";
			} else {
				if( categoria == "" || categoria == null) {
					mensaje = "Debes introducir una Categoría<br/>";
				} else {
					//insertamos en base de datos
				}
			}
		}
		
		
		
		
		
		
		
		response.getWriter().println(mensaje);
		response.getWriter().println("Has introducido: " + nombre + ", " + clave + ", " + pais);
	}

}
